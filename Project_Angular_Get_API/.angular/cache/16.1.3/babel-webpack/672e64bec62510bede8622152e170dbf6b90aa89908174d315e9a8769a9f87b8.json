{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/minht/source/repos/Project_ASP.Net_And_Angular/Project_Angular_Get_API/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { Validators } from \"@angular/forms\";\nlet AddPolicyAdminComponent = class AddPolicyAdminComponent {\n  constructor(formBuilder, messageService, companyService, policyService) {\n    this.formBuilder = formBuilder;\n    this.messageService = messageService;\n    this.companyService = companyService;\n    this.policyService = policyService;\n  }\n  ngOnInit() {\n    this.companyService.findAll().then(res => this.company = res, err => console.log(err));\n    this.formAdd = this.formBuilder.group({\n      policyName: [\"\", [Validators.required, Validators.minLength(5), Validators.maxLength(50)]],\n      policyDesc: [\"\", [Validators.required, Validators.minLength(5), Validators.maxLength(255)]],\n      amount: [\"\", [Validators.required, Validators.pattern(\"^[0-9]{0,9}+(.[0-9]{0,2})?$\")]],\n      emi: [\"\", [Validators.required, Validators.pattern(\"^[0-9]{0,9}+(.[0-9]{0,2})?$\")]],\n      companyId: \"1\",\n      medicalid: [\"\", [Validators.required, Validators.minLength(5), Validators.maxLength(50)]]\n    });\n  }\n  save() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var policySave = _this.formAdd.value;\n      yield _this.policyService.create(policySave).then(result => {\n        _this.result = result;\n      }, err => console.log(err));\n    })();\n  }\n  show() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.result;\n      if (_this2.result) {\n        _this2.messageService.add({\n          severity: \"success\",\n          summary: \"Add Success\",\n          detail: \"Policy add successful\"\n        });\n      } else {\n        _this2.messageService.add({\n          severity: \"error\",\n          summary: \"Add Success\",\n          detail: \"Policy add fail\"\n        });\n      }\n    })();\n  }\n};\nAddPolicyAdminComponent = __decorate([Component({\n  templateUrl: './addPolicy.component.html'\n})], AddPolicyAdminComponent);\nexport { AddPolicyAdminComponent };","map":{"version":3,"names":["Component","Validators","AddPolicyAdminComponent","constructor","formBuilder","messageService","companyService","policyService","ngOnInit","findAll","then","res","company","err","console","log","formAdd","group","policyName","required","minLength","maxLength","policyDesc","amount","pattern","emi","companyId","medicalid","save","_this","_asyncToGenerator","policySave","value","create","result","show","_this2","add","severity","summary","detail","__decorate","templateUrl"],"sources":["C:\\Users\\minht\\source\\repos\\Project_ASP.Net_And_Angular\\Project_Angular_Get_API\\src\\component\\admin\\polices\\addPolicy.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { CompanyDetail } from \"src/model/companyDetail.model\";\r\nimport {  MessageService } from 'primeng/api';\r\nimport { CompanyDetailService } from \"src/service/admin/companyDetail.sevice\";\r\nimport { Result } from \"src/service/result.service\";\r\nimport { Policy } from \"src/model/policy.model\";\r\nimport { PolicyService } from \"src/service/admin/policy.service\";\r\n\r\n@Component({\r\n    templateUrl: './addPolicy.component.html'\r\n})\r\n\r\n\r\nexport class    AddPolicyAdminComponent implements OnInit {\r\n    result: Result\r\n    company: CompanyDetail[];\r\n    formAdd: FormGroup;\r\n    policy: Policy;\r\n    constructor(private formBuilder: FormBuilder,\r\n        private messageService: MessageService,\r\n        private companyService: CompanyDetailService,\r\n        private policyService : PolicyService\r\n        ){}\r\n\r\n    ngOnInit(): void {\r\n        this.companyService.findAll().then(\r\n            res => this.company = res as CompanyDetail[],\r\n            err => console.log(err)\r\n        );\r\n     this.formAdd =   this.formBuilder.group({\r\n            policyName:[\"\",[Validators.required, Validators.minLength(5),Validators.maxLength(50)]],\r\n            policyDesc:[\"\",[Validators.required, Validators.minLength(5),Validators.maxLength(255)]],\r\n            amount:[\"\",[Validators.required, Validators.pattern(\"^[0-9]{0,9}+(.[0-9]{0,2})?$\")]],\r\n            emi:[\"\",[Validators.required, Validators.pattern(\"^[0-9]{0,9}+(.[0-9]{0,2})?$\")]],\r\n            companyId:\"1\",\r\n            medicalid:[\"\",[Validators.required, Validators.minLength(5),Validators.maxLength(50)]],\r\n\r\n       })\r\n    }\r\n    async save(){\r\n        var policySave: Policy = this.formAdd.value as Policy\r\n       await this.policyService.create(policySave).then(\r\n            result => {this.result = result as Result             \r\n            },\r\n            err => console.log(err)\r\n        )\r\n    }\r\n     async show(){\r\n        await this.result;\r\n        \r\n            if(this.result){\r\n                this.messageService.add({severity:\"success\",summary:\"Add Success\", detail:\"Policy add successful\"})\r\n               }\r\n               else{\r\n                   this.messageService.add({severity:\"error\",summary:\"Add Success\", detail:\"Policy add fail\"})\r\n               }\r\n        \r\n       \r\n    }\r\n\r\n}"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAiCC,UAAU,QAAQ,gBAAgB;AAanE,IAAgBC,uBAAuB,GAAvC,MAAgBA,uBAAuB;EAKnCC,YAAoBC,WAAwB,EAChCC,cAA8B,EAC9BC,cAAoC,EACpCC,aAA6B;IAHrB,KAAAH,WAAW,GAAXA,WAAW;IACnB,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,aAAa,GAAbA,aAAa;EACnB;EAENC,QAAQA,CAAA;IACJ,IAAI,CAACF,cAAc,CAACG,OAAO,EAAE,CAACC,IAAI,CAC9BC,GAAG,IAAI,IAAI,CAACC,OAAO,GAAGD,GAAsB,EAC5CE,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAC1B;IACJ,IAAI,CAACG,OAAO,GAAK,IAAI,CAACZ,WAAW,CAACa,KAAK,CAAC;MACjCC,UAAU,EAAC,CAAC,EAAE,EAAC,CAACjB,UAAU,CAACkB,QAAQ,EAAElB,UAAU,CAACmB,SAAS,CAAC,CAAC,CAAC,EAACnB,UAAU,CAACoB,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACvFC,UAAU,EAAC,CAAC,EAAE,EAAC,CAACrB,UAAU,CAACkB,QAAQ,EAAElB,UAAU,CAACmB,SAAS,CAAC,CAAC,CAAC,EAACnB,UAAU,CAACoB,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;MACxFE,MAAM,EAAC,CAAC,EAAE,EAAC,CAACtB,UAAU,CAACkB,QAAQ,EAAElB,UAAU,CAACuB,OAAO,CAAC,6BAA6B,CAAC,CAAC,CAAC;MACpFC,GAAG,EAAC,CAAC,EAAE,EAAC,CAACxB,UAAU,CAACkB,QAAQ,EAAElB,UAAU,CAACuB,OAAO,CAAC,6BAA6B,CAAC,CAAC,CAAC;MACjFE,SAAS,EAAC,GAAG;MACbC,SAAS,EAAC,CAAC,EAAE,EAAC,CAAC1B,UAAU,CAACkB,QAAQ,EAAElB,UAAU,CAACmB,SAAS,CAAC,CAAC,CAAC,EAACnB,UAAU,CAACoB,SAAS,CAAC,EAAE,CAAC,CAAC;KAEzF,CAAC;EACL;EACMO,IAAIA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACN,IAAIC,UAAU,GAAWF,KAAI,CAACb,OAAO,CAACgB,KAAe;MACtD,MAAMH,KAAI,CAACtB,aAAa,CAAC0B,MAAM,CAACF,UAAU,CAAC,CAACrB,IAAI,CAC3CwB,MAAM,IAAG;QAAEL,KAAI,CAACK,MAAM,GAAGA,MAAgB;MACzC,CAAC,EACDrB,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAC1B;IAAA;EACL;EACOsB,IAAIA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAN,iBAAA;MACP,MAAMM,MAAI,CAACF,MAAM;MAEb,IAAGE,MAAI,CAACF,MAAM,EAAC;QACXE,MAAI,CAAC/B,cAAc,CAACgC,GAAG,CAAC;UAACC,QAAQ,EAAC,SAAS;UAACC,OAAO,EAAC,aAAa;UAAEC,MAAM,EAAC;QAAuB,CAAC,CAAC;OACnG,MACG;QACAJ,MAAI,CAAC/B,cAAc,CAACgC,GAAG,CAAC;UAACC,QAAQ,EAAC,OAAO;UAACC,OAAO,EAAC,aAAa;UAAEC,MAAM,EAAC;QAAiB,CAAC,CAAC;;IAC9F;EAGZ;CAEH;AA/CetC,uBAAuB,GAAAuC,UAAA,EALtCzC,SAAS,CAAC;EACP0C,WAAW,EAAE;CAChB,CAAC,C,EAGcxC,uBAAuB,CA+CtC;SA/CeA,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}